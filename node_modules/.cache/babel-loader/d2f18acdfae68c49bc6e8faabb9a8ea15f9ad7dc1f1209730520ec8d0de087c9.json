{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Edala Greeshma\\\\OneDrive\\\\Desktop\\\\greeshma\\\\my_project\\\\src\\\\components\\\\Weather.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Pie } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Weather() {\n  _s();\n  const [data, setData] = useState([]);\n  const [showChart, setShowChart] = useState(false);\n  const [chartInstance, setChartInstance] = useState(null);\n  useEffect(() => {\n    if (chartInstance) {\n      chartInstance.destroy();\n    }\n  }, [showChart]);\n  const fetchData = async () => {\n    try {\n      const response = await axios.get('https://pro.openweathermap.org/data/2.5/forecast/hourly?lat=44.34&lon=10.99&appid=b1b15e88fa797225412429c1c50c122a1');\n      let humidityData = response.data.list.map(item => item.main.humidity);\n      setData(humidityData);\n      setShowChart(true);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n  const createChartData = () => {\n    if (data.length === 0) {\n      return {}; // Return an empty object if data is not available yet\n    }\n\n    const humidityLevels = {\n      '0-20%': 0,\n      '21-40%': 0,\n      '41-60%': 0,\n      '61-80%': 0,\n      '81-100%': 0\n    };\n    data.forEach(humidity => {\n      if (humidity <= 20) {\n        humidityLevels['0-20%']++;\n      } else if (humidity <= 40) {\n        humidityLevels['21-40%']++;\n      } else if (humidity <= 60) {\n        humidityLevels['41-60%']++;\n      } else if (humidity <= 80) {\n        humidityLevels['61-80%']++;\n      } else {\n        humidityLevels['81-100%']++;\n      }\n    });\n    const chartData = {\n      labels: Object.keys(humidityLevels),\n      datasets: [{\n        data: Object.values(humidityLevels),\n        backgroundColor: ['rgba(255, 99, 132, 0.7)', 'rgba(54, 162, 235, 0.7)', 'rgba(255, 206, 86, 0.7)', 'rgba(75, 192, 192, 0.7)', 'rgba(153, 102, 255, 0.7)']\n      }]\n    };\n    return chartData;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App App-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Humidity Pie Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttoncntainer-sec\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchData,\n        children: \"Fetch Humidity Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), showChart && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: /*#__PURE__*/_jsxDEV(Pie, {\n        data: createChartData(),\n        options: {\n          maintainAspectRatio: false\n        },\n        ref: ref => setChartInstance(ref)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(Weather, \"33X1D0pexBaGpCzDkAFQiuS3jyU=\");\n_c = Weather;\nexport default Weather;\nvar _c;\n$RefreshReg$(_c, \"Weather\");","map":{"version":3,"names":["React","useState","useEffect","axios","Pie","jsxDEV","_jsxDEV","Weather","_s","data","setData","showChart","setShowChart","chartInstance","setChartInstance","destroy","fetchData","response","get","humidityData","list","map","item","main","humidity","error","console","createChartData","length","humidityLevels","forEach","chartData","labels","Object","keys","datasets","values","backgroundColor","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","options","maintainAspectRatio","ref","_c","$RefreshReg$"],"sources":["C:/Users/Edala Greeshma/OneDrive/Desktop/greeshma/my_project/src/components/Weather.js"],"sourcesContent":["\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Pie } from 'react-chartjs-2';\r\n\r\nfunction Weather() {\r\n  const [data, setData] = useState([]);\r\n  const [showChart, setShowChart] = useState(false);\r\n  const [chartInstance, setChartInstance] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (chartInstance) {\r\n      chartInstance.destroy();\r\n    }\r\n  }, [showChart]);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        'https://pro.openweathermap.org/data/2.5/forecast/hourly?lat=44.34&lon=10.99&appid=b1b15e88fa797225412429c1c50c122a1'\r\n      );\r\n      let humidityData = response.data.list.map((item) => item.main.humidity);\r\n      setData(humidityData);\r\n      setShowChart(true);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    }\r\n  };\r\n\r\n  const createChartData = () => {\r\n    if (data.length === 0) {\r\n      return {}; // Return an empty object if data is not available yet\r\n    }\r\n\r\n    const humidityLevels = {\r\n      '0-20%': 0,\r\n      '21-40%': 0,\r\n      '41-60%': 0,\r\n      '61-80%': 0,\r\n      '81-100%': 0,\r\n    };\r\n\r\n    data.forEach((humidity) => {\r\n      if (humidity <= 20) {\r\n        humidityLevels['0-20%']++;\r\n      } else if (humidity <= 40) {\r\n        humidityLevels['21-40%']++;\r\n      } else if (humidity <= 60) {\r\n        humidityLevels['41-60%']++;\r\n      } else if (humidity <= 80) {\r\n        humidityLevels['61-80%']++;\r\n      } else {\r\n        humidityLevels['81-100%']++;\r\n      }\r\n    });\r\n\r\n    const chartData = {\r\n      labels: Object.keys(humidityLevels),\r\n      datasets: [\r\n        {\r\n          data: Object.values(humidityLevels),\r\n          backgroundColor: [\r\n            'rgba(255, 99, 132, 0.7)',\r\n            'rgba(54, 162, 235, 0.7)',\r\n            'rgba(255, 206, 86, 0.7)',\r\n            'rgba(75, 192, 192, 0.7)',\r\n            'rgba(153, 102, 255, 0.7)',\r\n          ],\r\n        },\r\n      ],\r\n    };\r\n\r\n    return chartData;\r\n  };\r\n\r\n  return (\r\n    <div className=\"App App-content\">\r\n      <h1>Humidity Pie Chart</h1>\r\n\r\n      <div className=\"buttoncntainer-sec\">\r\n      <button  onClick={fetchData}>Fetch Humidity Data</button>\r\n\r\n      </div>\r\n\r\n      {showChart && (\r\n        <div className=\"chart-container\">\r\n          <Pie\r\n            data={createChartData()}\r\n            options={{ maintainAspectRatio: false }}\r\n            ref={(ref) => setChartInstance(ref)}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Weather;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}